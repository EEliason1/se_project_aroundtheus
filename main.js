!function(){"use strict";class e{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(`.${t}`)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.append(e)}addNewItem(e){this._container.prepend(e)}}class t{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_toggleButtonState(){this._hasInvalidInput(this._inputElements)?this.disableButton():this.enableButton()}_hasInvalidInput(e){return!e.every((e=>e.validity.valid))}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_setEventListeners(){this._inputElements=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._setEventListeners()}}const s={},r=document.querySelector("#profile-edit-button"),i=(document.querySelector("#profile-input-name"),document.querySelector("#profile-input-description"),document.forms["profile-edit-form"],document.querySelector(".elements__list"),document.querySelector("#profile-add-button")),n=(document.querySelector("#avatar-edit-modal").querySelector("#avatar-edit-form"),document.querySelector("#avatar-edit-button"));class o{constructor(e,t,s,r,i){this._name=e.name,this._link=e.link,this._id=e._id,this._isLiked=e.isLiked,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteClick=r,this._handleLikeClick=i}_handleLike(){this._likeButton.classList.toggle("elements__like-button_active")}_isAlreadyLiked(){this._isLiked&&this._likeButton.classList.toggle("elements__like-button_active")}_setEventListeners(){this._likeButton=this._template.querySelector("#like-button"),this._deleteButton=this._template.querySelector("#card-delete-button"),this._cardImage=this._template.querySelector("#card-URL"),this._likeButton.addEventListener("click",(()=>{this._isLiked?this._isLiked=!1:this._isLiked=!0,this._handleLike(),this._handleLikeClick(this._id,this._isLiked)})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteClick(this._id,this._template)})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this._name,this._link)}))}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".elements__card").cloneNode(!0)}generateCard(){return this._template=this._getTemplate(),this._setEventListeners(),this._cardImage.src=this._link,this._template.querySelector("#card-title").textContent=this._name,this._cardImage.alt=this._name,this._isAlreadyLiked(),this._template}}class a{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._submitButton=this._popupElement.querySelector(".modal__save-button"),this._popupSelector=t}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose),"#card-add-modal"==this._popupSelector?this._submitButton.textContent="Create":this._submitButton.textContent="Save"}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"==e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__exit-button"))&&this.close()}))}}class l extends a{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputElements=this._popupForm.querySelectorAll(".modal__input")}_getInputValues(){const e={};return this._inputElements.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputElements.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this._popupForm.reset(),this._submitButton.textContent="Saving...",this.close()}))}}var d;d={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},Array.from(document.querySelectorAll(d.formSelector)).forEach((e=>{const r=new t(d,e),i=e.getAttribute("name");s[i]=r,r.enableValidation()}));const h=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_validatePromise(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._validatePromise)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._validatePromise)}patchUserInfo(e){let{name:t,about:s}=e;return fetch(`${this._baseUrl}/users/me`,{headers:this._headers,method:"PATCH","Content-Type":"application/json",body:JSON.stringify({name:t,about:s})}).then(this._validatePromise)}setUserAvatar(e){let{avatar:t}=e;return fetch(`${this._baseUrl}/users/me/avatar`,{headers:this._headers,method:"PATCH","Content-Type":"application/json",body:JSON.stringify({avatar:t})}).then(this._validatePromise)}createCard(e){let{name:t,link:s}=e;return fetch(`${this._baseUrl}/cards`,{headers:this._headers,method:"POST","Content-Type":"application/json",body:JSON.stringify({name:t,link:s})}).then(this._validatePromise)}deleteCard(e){let{_id:t}=e;return fetch(`${this._baseUrl}/cards/${t}`,{headers:this._headers,method:"DELETE","Content-Type":"application/json"}).then(this._validatePromise)}likeCard(e){let{_id:t}=e;return fetch(`${this._baseUrl}/cards/${t}/likes`,{headers:this._headers,method:"PUT"}).then(this._validatePromise)}dislikeCard(e){let{_id:t}=e;return fetch(`${this._baseUrl}/cards/${t}/likes`,{headers:this._headers,method:"DELETE","Content-Type":"application/json"}).then(this._validatePromise)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"0e6b8e99-3fb6-490c-b2a5-5d193b29415c","Content-Type":"application/json"}});let c;function u(e,t){return new o(e,t,C,p,_).generateCard()}function _(e,t){t?h.likeCard({_id:e}).then((()=>{console.log("This post has been liked")})).catch((e=>{console.error(e)})):h.dislikeCard({_id:e}).then((()=>{console.log("This post has been disliked")})).catch((e=>{console.error(e)}))}function p(e,t){m.open(e,t)}h.getInitialCards().then((t=>{c=new e({items:t,renderer:e=>{const t=u(e,"#card-template");c.addItem(t)}},"elements__list"),c.renderItems()})).catch((e=>{console.error(e)}));const m=new class extends a{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleCardDelete=t}open(e,t){super.open(),this._cardId=e,this._cardElement=t}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleCardDelete(this._cardId,this._cardElement),this.close()}))}}("#card-delete-modal",(function(e,t){t.remove(),h.deleteCard({_id:e}).then((()=>{console.log("This post has been deleted")})).catch((e=>{console.error(e)}))}));m.setEventListeners(),h.getUserInfo().then((e=>{v.setUserInfo(e)})).catch((e=>{console.error(e)}));const v=new class{constructor(e,t,s){this._userName=document.querySelector(e),this._userJob=document.querySelector(t),this._userAvatar=document.querySelector(s)}getUserInfo(){return{name:this._userName.innerText,about:this._userJob.innerText,avatar:this._userAvatar.src}}setUserInfo(e){let{name:t,about:s,avatar:r}=e;this._userName.innerText=t,this._userJob.innerText=s,this._userAvatar.src=r}}("#profile-name","#profile-description","#profile-avatar"),E=new l("#profile-edit-modal",(e=>{h.patchUserInfo(e).then((e=>{v.setUserInfo(e)})).catch((e=>{console.error(e)}))}));E.setEventListeners(),r.addEventListener("click",(()=>{h.getUserInfo().then((e=>{E.setInputValues(e)})).catch((e=>{console.error(e)})),E.open()}));const b=new l("#card-add-modal",(e=>{const t={name:e.title,link:e.link};h.createCard(t).then((e=>{const t=u(e,"#card-template");c.addNewItem(t),s["card-add-form"].disableButton()})).catch((e=>{console.error(e)}))}));b.setEventListeners(),i.addEventListener("click",(()=>{b.open()}));const f=new l("#avatar-edit-modal",(e=>{h.setUserAvatar(e).then((()=>{n.src=e.avatar}))}));f.setEventListeners(),n.addEventListener("click",(()=>{f.open()}));const S=new class extends a{constructor(e){super({popupSelector:e}),this._popupCaption=this._popupElement.querySelector(".modal__image_caption"),this._popupImage=this._popupElement.querySelector(".elements__image")}open(e,t){this._popupImage.alt=e,this._popupImage.src=t,this._popupCaption.textContent=e,super.open()}}("#preview-image-modal");function C(e,t){S.open(e,t)}S.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TkgsUUFBUUksTUFBTUQsRUFBSSxHQUNsQixJQTBETnFCLEVBQWtCcEYsb0JBRWxCM0MsRUFBY0osaUJBQWlCLFNBQVMsS0FDdENtSSxFQUFrQjFGLE1BQU0sSUFJMUIsTUFNTWdHLEVBQXNCLElBQUl2RixFQUM5QixzQkFQOEJPLElBQzlCVSxFQUFJdUIsY0FBY2pDLEdBQU95QixNQUFLLEtBQzVCNUUsRUFBaUI2QixJQUFNc0IsRUFBTW1DLE1BQU0sR0FDbkMsSUFRSjZDLEVBQW9CMUYsb0JBRXBCekMsRUFBaUJOLGlCQUFpQixTQUFTLEtBQ3pDeUksRUFBb0JoRyxNQUFNLElBSTVCLE1BQU1pRyxFQUFpQixJSXROUixjQUE2QnJHLEVBQzFDaEcsV0FBQUEsQ0FBWWlHLEdBQ1ZjLE1BQU0sQ0FBRWQsa0JBQ1I1RixLQUFLaU0sY0FBZ0JqTSxLQUFLNkYsY0FBY3hGLGNBQ3RDLHlCQUVGTCxLQUFLa00sWUFBY2xNLEtBQUs2RixjQUFjeEYsY0FBYyxtQkFDdEQsQ0FFQTBGLElBQUFBLENBQUszQixFQUFNRSxHQUNUdEUsS0FBS2tNLFlBQVl4RyxJQUFNdEIsRUFDdkJwRSxLQUFLa00sWUFBWXpHLElBQU1uQixFQUN2QnRFLEtBQUtpTSxjQUFjL0osWUFBY2tDLEVBQ2pDc0MsTUFBTVgsTUFDUixHSndNd0Msd0JBRzFDLFNBQVMvQixFQUFpQkksRUFBTUUsR0FDOUIwSCxFQUFlakcsS0FBSzNCLEVBQU1FLEVBQzVCLENBSkEwSCxFQUFlM0YsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcHJpbnQtOC1maW5hbC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc3ByaW50LTgtZmluYWwvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3NwcmludC04LWZpbmFsLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zcHJpbnQtOC1maW5hbC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc3ByaW50LTgtZmluYWwvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9zcHJpbnQtOC1maW5hbC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vc3ByaW50LTgtZmluYWwvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc3ByaW50LTgtZmluYWwvLi9zcmMvY29tcG9uZW50cy9BUEkuanMiLCJ3ZWJwYWNrOi8vc3ByaW50LTgtZmluYWwvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGVDb25maXJtLmpzIiwid2VicGFjazovL3NwcmludC04LWZpbmFsLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vc3ByaW50LTgtZmluYWwvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjb250YWluZXJTZWxlY3Rvcn1gKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgYWRkTmV3SXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBkaXNhYmxlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRFbGVtZW50cykpIHtcclxuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZW5hYmxlQnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KGlucHV0RWxlbWVudHMpIHtcclxuICAgIHJldHVybiAhaW5wdXRFbGVtZW50cy5ldmVyeSgoaW5wdXRFbGVtZW50KSA9PiBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiLy9EZWZhdWx0IGNhcmRzIG9iamVjdFxyXG5pbXBvcnQgeW9zZW1pdGVJbWFnZSBmcm9tIFwiLi4vaW1hZ2VzL3lvc2VtaXRlLmpwZ1wiO1xyXG5pbXBvcnQgbGFrZUxvdWlzZUltYWdlIGZyb20gXCIuLi9pbWFnZXMvbGFrZS1sb3Vpc2UuanBnXCI7XHJcbmltcG9ydCBiYWxkTW91bnRhaW5zSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9iYWxkLW1vdW50YWlucy5qcGdcIjtcclxuaW1wb3J0IGxhdGVtYXJJbWFnZSBmcm9tIFwiLi4vaW1hZ2VzL2xhdGVtYXIuanBnXCI7XHJcbmltcG9ydCB2YW5vaXNlSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy92YW5vaXNlLmpwZ1wiO1xyXG5pbXBvcnQgbGFnb0ltYWdlIGZyb20gXCIuLi9pbWFnZXMvbGFnby5qcGdcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgIGxpbms6IHlvc2VtaXRlSW1hZ2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICBsaW5rOiBsYWtlTG91aXNlSW1hZ2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICBsaW5rOiBiYWxkTW91bnRhaW5zSW1hZ2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IGxhdGVtYXJJbWFnZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiB2YW5vaXNlSW1hZ2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBsYWdvSW1hZ2UsXHJcbiAgfSxcclxuXTtcclxuXHJcbi8vVmFsaWRhdGlvbiBkZWNsYXJhdGlvbnNcclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3NhdmUtYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG5leHBvcnQgY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcclxuXHJcbi8vUHJvZmlsZSBlZGl0IGRlY2xhcmF0aW9uc1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idXR0b25cIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlSW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWlucHV0LW5hbWVcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlSW5wdXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcHJvZmlsZS1pbnB1dC1kZXNjcmlwdGlvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGUtZWRpdC1mb3JtXCJdO1xyXG5cclxuLy9BZGQgY2FyZCBkZWNsYXJhdGlvbnNcclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlzdFwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYWRkLWJ1dHRvblwiKTtcclxuXHJcbi8vQ2hhbmdlIEF2YXRhciBGb3JtXHJcbmV4cG9ydCBjb25zdCBhdmF0YXJNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLWVkaXQtbW9kYWxcIik7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJGb3JtID0gYXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItZWRpdC1mb3JtXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLWVkaXQtYnV0dG9uXCIpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGNhcmREYXRhLFxyXG4gICAgY2FyZFNlbGVjdG9yLFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxyXG4gICAgaGFuZGxlTGlrZUNsaWNrXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gY2FyZERhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rO1xyXG4gICAgdGhpcy5faWQgPSBjYXJkRGF0YS5faWQ7XHJcbiAgICB0aGlzLl9pc0xpa2VkID0gY2FyZERhdGEuaXNMaWtlZDtcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcclxuICB9XHJcblxyXG4gIF9oYW5kbGVMaWtlKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudHNfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIF9pc0FscmVhZHlMaWtlZCgpIHtcclxuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fdGVtcGxhdGUucXVlcnlTZWxlY3RvcihcIiNsaWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX3RlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1kZWxldGUtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fdGVtcGxhdGUucXVlcnlTZWxlY3RvcihcIiNjYXJkLVVSTFwiKTtcclxuXHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XHJcbiAgICAgICAgdGhpcy5faXNMaWtlZCA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2lzTGlrZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2UoKTtcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMuX2lkLCB0aGlzLl9pc0xpa2VkKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMuX2lkLCB0aGlzLl90ZW1wbGF0ZSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9pc0FscmVhZHlMaWtlZCgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl90ZW1wbGF0ZTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICBpZiAodGhpcy5fcG9wdXBTZWxlY3RvciA9PSBcIiNjYXJkLWFkZC1tb2RhbFwiKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQ3JlYXRlXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSB8fFxyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2V4aXQtYnV0dG9uXCIpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGZvcm1JbnB1dHMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZm9ybUlucHV0c1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZm9ybUlucHV0cztcclxuICB9XHJcblxyXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIGluaXRpYWxDYXJkcyxcclxuICBjb25maWcsXHJcbiAgZm9ybVZhbGlkYXRvcnMsXHJcbiAgcHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgY2FyZEFkZEJ1dHRvbixcclxuICBhdmF0YXJFZGl0QnV0dG9uLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BUEkuanNcIjtcclxuXHJcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRGVsZXRlQ29uZmlybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGVDb25maXJtLmpzXCI7XHJcblxyXG4vL0Zvcm0gVmFsaWRhdG9yc1xyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudCk7XHJcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihjb25maWcpO1xyXG5cclxuLy9DcmVhdGUgQVBJXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjBlNmI4ZTk5LTNmYjYtNDkwYy1iMmE1LTVkMTkzYjI5NDE1Y1wiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vL0NhcmQgQWN0aW9uc1xyXG5sZXQgY2FyZFNlY3Rpb247XHJcblxyXG5hcGlcclxuICAuZ2V0SW5pdGlhbENhcmRzKClcclxuICAudGhlbigoY2FyZHMpID0+IHtcclxuICAgIGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAgICAgIHtcclxuICAgICAgICBpdGVtczogY2FyZHMsXHJcbiAgICAgICAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVOZXdDYXJkKGNhcmREYXRhLCBcIiNjYXJkLXRlbXBsYXRlXCIpO1xyXG4gICAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgXCJlbGVtZW50c19fbGlzdFwiXHJcbiAgICApO1xyXG4gICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgfSk7XHJcblxyXG4vL05ldyBDYXJkIEZ1bmN0aW9uc1xyXG5mdW5jdGlvbiBjcmVhdGVOZXdDYXJkKGNhcmREYXRhLCB0ZW1wbGF0ZSkge1xyXG4gIHJldHVybiBuZXcgQ2FyZChcclxuICAgIGNhcmREYXRhLFxyXG4gICAgdGVtcGxhdGUsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXHJcbiAgICBoYW5kbGVMaWtlQ2xpY2tcclxuICApLmdlbmVyYXRlQ2FyZCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVMaWtlQ2xpY2soY2FyZElkLCBsaWtlU3RhdHVzKSB7XHJcbiAgaWYgKGxpa2VTdGF0dXMpIHtcclxuICAgIGFwaVxyXG4gICAgICAubGlrZUNhcmQoeyBfaWQ6IGNhcmRJZCB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJUaGlzIHBvc3QgaGFzIGJlZW4gbGlrZWRcIik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXBpXHJcbiAgICAgIC5kaXNsaWtlQ2FyZCh7IF9pZDogY2FyZElkIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlRoaXMgcG9zdCBoYXMgYmVlbiBkaXNsaWtlZFwiKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soY2FyZElkLCBjYXJkRWxlbWVudCkge1xyXG4gIGNvbmZpcm1EZWxldGUub3BlbihjYXJkSWQsIGNhcmRFbGVtZW50KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlU3VibWl0KGNhcmRJZCwgY2FyZEVsZW1lbnQpIHtcclxuICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICBhcGlcclxuICAgIC5kZWxldGVDYXJkKHsgX2lkOiBjYXJkSWQgfSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJUaGlzIHBvc3QgaGFzIGJlZW4gZGVsZXRlZFwiKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgY29uZmlybURlbGV0ZSA9IG5ldyBQb3B1cFdpdGhEZWxldGVDb25maXJtKFxyXG4gIFwiI2NhcmQtZGVsZXRlLW1vZGFsXCIsXHJcbiAgaGFuZGxlRGVsZXRlU3VibWl0XHJcbik7XHJcblxyXG5jb25maXJtRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBoYW5kbGVDYXJkQWRkU3VibWl0ID0gKGNhcmRJbmZvKSA9PiB7XHJcbiAgY29uc3QgbmV3Q2FyZEluZm8gPSB7XHJcbiAgICBuYW1lOiBjYXJkSW5mby50aXRsZSxcclxuICAgIGxpbms6IGNhcmRJbmZvLmxpbmssXHJcbiAgfTtcclxuICBhcGlcclxuICAgIC5jcmVhdGVDYXJkKG5ld0NhcmRJbmZvKVxyXG4gICAgLnRoZW4oKG5ld0NhcmQpID0+IHtcclxuICAgICAgY29uc3QgbmV3Q2FyZEVsZW1lbnQgPSBjcmVhdGVOZXdDYXJkKG5ld0NhcmQsIFwiI2NhcmQtdGVtcGxhdGVcIik7XHJcbiAgICAgIGNhcmRTZWN0aW9uLmFkZE5ld0l0ZW0obmV3Q2FyZEVsZW1lbnQpO1xyXG4gICAgICBmb3JtVmFsaWRhdG9yc1tcImNhcmQtYWRkLWZvcm1cIl0uZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy9IYW5kbGUgVXNlciBEYXRhXHJcbmFwaVxyXG4gIC5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gIH0pO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oXHJcbiAgXCIjcHJvZmlsZS1uYW1lXCIsXHJcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvblwiLFxyXG4gIFwiI3Byb2ZpbGUtYXZhdGFyXCJcclxuKTtcclxuXHJcbmNvbnN0IGluaXRpYWxpemVQcm9maWxlRWRpdEZvcm0gPSAoKSA9PiB7XHJcbiAgYXBpXHJcbiAgICAuZ2V0VXNlckluZm8oKVxyXG4gICAgLnRoZW4oKHVzZXJJbmZvKSA9PiB7XHJcbiAgICAgIHBvcHVwV2l0aEZvcm1FZGl0LnNldElucHV0VmFsdWVzKHVzZXJJbmZvKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0ID0gKHVzZXJJbnB1dCkgPT4ge1xyXG4gIGFwaVxyXG4gICAgLnBhdGNoVXNlckluZm8odXNlcklucHV0KVxyXG4gICAgLnRoZW4oKGlucHV0KSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGlucHV0KTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vQ3JlYXRlIFBvcHVwcyBXaXRoIEZvcm1zXHJcbmNvbnN0IHBvcHVwV2l0aEZvcm1FZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXHJcbiAgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXRcclxuKTtcclxucG9wdXBXaXRoRm9ybUVkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgaW5pdGlhbGl6ZVByb2ZpbGVFZGl0Rm9ybSh1c2VySW5mbyk7XHJcbiAgcG9wdXBXaXRoRm9ybUVkaXQub3BlbigpO1xyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEZvcm1DYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjY2FyZC1hZGQtbW9kYWxcIixcclxuICBoYW5kbGVDYXJkQWRkU3VibWl0XHJcbik7XHJcblxyXG5wb3B1cFdpdGhGb3JtQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY2FyZEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwV2l0aEZvcm1DYXJkLm9wZW4oKTtcclxufSk7XHJcblxyXG4vL0F2YXRhciBDaGFuZ2VcclxuY29uc3QgaGFuZGxlQXZhdGFyRWRpdFN1Ym1pdCA9IChpbnB1dCkgPT4ge1xyXG4gIGFwaS5zZXRVc2VyQXZhdGFyKGlucHV0KS50aGVuKCgpID0+IHtcclxuICAgIGF2YXRhckVkaXRCdXR0b24uc3JjID0gaW5wdXQuYXZhdGFyO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgcG9wdXBXaXRoRm9ybUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI2F2YXRhci1lZGl0LW1vZGFsXCIsXHJcbiAgaGFuZGxlQXZhdGFyRWRpdFN1Ym1pdFxyXG4pO1xyXG5cclxucG9wdXBXaXRoRm9ybUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuYXZhdGFyRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwV2l0aEZvcm1BdmF0YXIub3BlbigpO1xyXG59KTtcclxuXHJcbi8vQ3JlYXRlIFBvcHVwIHdpdGggSW1hZ2VcclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcHJldmlldy1pbWFnZS1tb2RhbFwiKTtcclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2sobmFtZSwgbGluaykge1xyXG4gIHBvcHVwV2l0aEltYWdlLm9wZW4obmFtZSwgbGluayk7XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICB9XHJcblxyXG4gIF92YWxpZGF0ZVByb21pc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl92YWxpZGF0ZVByb21pc2UpO1xyXG4gIH1cclxuXHJcbiAgLy9nZXRVc2VySW5mb1xyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl92YWxpZGF0ZVByb21pc2UpO1xyXG4gIH1cclxuXHJcbiAgLy9wYXRjaFVzZXJJbmZvXHJcbiAgcGF0Y2hVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGFib3V0IH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl92YWxpZGF0ZVByb21pc2UpO1xyXG4gIH1cclxuXHJcbiAgLy9zZXRVc2VyQXZhdGFyXHJcbiAgc2V0VXNlckF2YXRhcih7IGF2YXRhciB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl92YWxpZGF0ZVByb21pc2UpO1xyXG4gIH1cclxuXHJcbiAgLy9jcmVhdGVDYXJkXHJcbiAgY3JlYXRlQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl92YWxpZGF0ZVByb21pc2UpO1xyXG4gIH1cclxuXHJcbiAgLy9kZWxldGVDYXJkXHJcbiAgZGVsZXRlQ2FyZCh7IF9pZCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtfaWR9YCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgfSkudGhlbih0aGlzLl92YWxpZGF0ZVByb21pc2UpO1xyXG4gIH1cclxuXHJcbiAgLy9saWtlQ2FyZFxyXG4gIGxpa2VDYXJkKHsgX2lkIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke19pZH0vbGlrZXNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgIH0pLnRoZW4odGhpcy5fdmFsaWRhdGVQcm9taXNlKTtcclxuICB9XHJcblxyXG4gIC8vZGlzbGlrZUNhcmRcclxuICBkaXNsaWtlQ2FyZCh7IF9pZCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtfaWR9L2xpa2VzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgfSkudGhlbih0aGlzLl92YWxpZGF0ZVByb21pc2UpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aERlbGV0ZUNvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRGVsZXRlU3VibWl0KSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVEZWxldGVTdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBvcGVuKGNhcmRJZCwgY2FyZEVsZW1lbnQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmRJZDtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlKHRoaXMuX2NhcmRJZCwgdGhpcy5fY2FyZEVsZW1lbnQpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHVzZXJOYW1lU2VsZWN0b3IsIHVzZXJKb2JTZWxlY3RvciwgdXNlckF2YXRhclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VySm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VySm9iU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fdXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgdXNlckluZm8gPSB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lLmlubmVyVGV4dCxcclxuICAgICAgYWJvdXQ6IHRoaXMuX3VzZXJKb2IuaW5uZXJUZXh0LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX3VzZXJBdmF0YXIuc3JjLFxyXG4gICAgfTtcclxuICAgIHJldHVybiB1c2VySW5mbztcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQsIGF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZS5pbm5lclRleHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fdXNlckpvYi5pbm5lclRleHQgPSBhYm91dDtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5tb2RhbF9faW1hZ2VfY2FwdGlvblwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIlNlY3Rpb24iLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJ0aGlzIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJlbmRlckl0ZW1zIiwiZm9yRWFjaCIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsImFwcGVuZCIsImFkZE5ld0l0ZW0iLCJwcmVwZW5kIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50IiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlRWxlbWVudCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsImRpc2FibGVCdXR0b24iLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJlbmFibGVCdXR0b24iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaGFzSW52YWxpZElucHV0IiwiX2lucHV0RWxlbWVudHMiLCJpbnB1dEVsZW1lbnRzIiwiZXZlcnkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZvcm1WYWxpZGF0b3JzIiwicHJvZmlsZUVkaXRCdXR0b24iLCJjYXJkQWRkQnV0dG9uIiwiZm9ybXMiLCJhdmF0YXJFZGl0QnV0dG9uIiwiQ2FyZCIsImNhcmREYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2lkIiwiX2lzTGlrZWQiLCJpc0xpa2VkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVMaWtlIiwiX2xpa2VCdXR0b24iLCJ0b2dnbGUiLCJfaXNBbHJlYWR5TGlrZWQiLCJfdGVtcGxhdGUiLCJfZGVsZXRlQnV0dG9uIiwiX2NhcmRJbWFnZSIsIl9nZXRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJzcmMiLCJhbHQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX3BvcHVwU2VsZWN0b3IiLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmb3JtSW5wdXRzIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwiZGF0YSIsInByZXZlbnREZWZhdWx0IiwicmVzZXQiLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJfdmFsaWRhdGVQcm9taXNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsImdldFVzZXJJbmZvIiwicGF0Y2hVc2VySW5mbyIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRVc2VyQXZhdGFyIiwiX3JlZjIiLCJhdmF0YXIiLCJjcmVhdGVDYXJkIiwiX3JlZjMiLCJkZWxldGVDYXJkIiwiX3JlZjQiLCJsaWtlQ2FyZCIsIl9yZWY1IiwiZGlzbGlrZUNhcmQiLCJfcmVmNiIsImF1dGhvcml6YXRpb24iLCJjYXJkU2VjdGlvbiIsImNyZWF0ZU5ld0NhcmQiLCJ0ZW1wbGF0ZSIsImNhcmRJZCIsImxpa2VTdGF0dXMiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsImNhcmRFbGVtZW50IiwiY29uZmlybURlbGV0ZSIsImNhcmRzIiwiaGFuZGxlRGVsZXRlU3VibWl0IiwiX2hhbmRsZUNhcmREZWxldGUiLCJfY2FyZElkIiwiX2NhcmRFbGVtZW50IiwidXNlckRhdGEiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJKb2JTZWxlY3RvciIsInVzZXJBdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VySm9iIiwiX3VzZXJBdmF0YXIiLCJpbm5lclRleHQiLCJwb3B1cFdpdGhGb3JtRWRpdCIsInVzZXJJbnB1dCIsInBvcHVwV2l0aEZvcm1DYXJkIiwiY2FyZEluZm8iLCJuZXdDYXJkSW5mbyIsInRpdGxlIiwibmV3Q2FyZCIsIm5ld0NhcmRFbGVtZW50IiwicG9wdXBXaXRoRm9ybUF2YXRhciIsInBvcHVwV2l0aEltYWdlIiwiX3BvcHVwQ2FwdGlvbiIsIl9wb3B1cEltYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==